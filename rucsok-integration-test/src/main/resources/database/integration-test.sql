drop table if exists rucsok;
create table rucsok (
      id bigint generated by default as identity (start with 1)
    , title varchar(255)
    , link varchar(255)
    , imageUrl varchar(500)
    , videoUrl varchar(500)
    , user_id int
    , createdAt timestamp
    , primary key (id)
);

drop table if exists user;
create table user (
      id bigint generated by default as identity (start with 1)
    , email varchar(255) not null
    , password varchar(255) not null
    , name varchar(255) not null
    , failedLogin int
    , primary key (id)
);

drop table if exists vote;
create table vote (
      user_id bigint not null
    , rucsok_id bigint not null
    , vote varchar(255) not null   
    , foreign key (user_id)  references user(id)
    , foreign key (rucsok_id)  references rucsok(id)
    , primary key (user_id, rucsok_id)
);

drop table if exists pun;
create table pun (
      id bigint not null
    , user_id bigint not null
    , text varchar(500) not null   
    , foreign key (user_id)  references user(id)
    , primary key (id)
);

insert into user(id, email,  password, name, failedLogin)
values (1, 'rucsok', '$2a$06$0RA1mDUlDAvOh5V9a0R01.POVFn1/Dvc5ggJ9xhXLiDAjG3o6NiNG', 'rucsok', 0);

insert into user(id, email,  password, name, failedLogin)
values (2, 'asd', '$2a$06$0RA1mDUlDAvOh5V9a0R01.POVFn1/Dvc5ggJ9xhXLiDAjG3o6NiNG', 'kecske', 0);


insert into rucsok(id, title,  link, imageUrl, videoUrl, user_id, createdAt) 
values (1, 'rucsok01', 'http://rucsok.com/01.gif','img01', null, 1, '2016-08-08 11:11:11');

insert into rucsok(id, title,  link, imageUrl, videoUrl, user_id, createdAt) 
values (2, 'rucsok02', 'http://rucsok.com/02.gif','img02', 'https://www.youtube.com/watch?v=buXwBr9H3VY', 1, '2016-08-08 11:11:11');

insert into rucsok(id, title,  link, imageUrl, videoUrl, user_id, createdAt) 
values (3, 'rucsok03', 'http://rucsok.com/03.gif','img03', 'http://rucsok.com/rucsok.mp4', 2, '2016-08-08 11:11:11');

insert into rucsok(id, title,  link, imageUrl, videoUrl, user_id, createdAt) 
values (4, 'rucsok04', 'http://rucsok.com/04.gif','img04', null, 2, '2016-08-08 11:11:11');

insert into vote(user_id, rucsok_id, vote)
values (1,2, 'UP');
insert into vote(user_id, rucsok_id, vote)
values (1,3, 'UP');
insert into vote(user_id, rucsok_id, vote)
values (2,1, 'UP');

INSERT INTO pun(id, text, user_id) 
VALUES 
(1, 'lol1', '1'), 
(2, 'lol2', '2')
